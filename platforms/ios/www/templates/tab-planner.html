<ion-view view-title="Trip planner">
    <ion-content>
        <div class="row">
            <div class="col">
                <div class="list list-inset">
                    <a class="item" href="#/tab/planner/From">
                        <div class="row row-no-padding">
                            <div class="col col-33">From</div>
                            <div class="col col-67">{{fromStation.Name}}</div>
                        </div>
                    </a>
                    <a class="item" href="#/tab/planner/To">
                        <div class="row row-no-padding">
                            <div class="col col-33">To</div>
                            <div class="col col-67">{{toStation.Name}}</div>
                        </div>
                    </a>
                    <a class="button button-positive button-full" style="margin-bottom: 0px;" ng-click="searchRoutes()">
                        Search
                    </a>
                </div>
            </div>
            <div class="col col-10 col-center" ng-if="routes != undefined">
                <a ng-click="addFavouriteTrip()">
                    <i class="icon ion-ios-star-outline" style="font-size: 24px;"></i>
                </a>
            </div>
        </div>

        <div class="list list-inset">
            <a href="#/tab/planner/trip/{{$index}}" class="item row padding"
               ng-repeat="route in routes" ng-click="selectTrip(route);">
                <div class="col-20 text-center">
                    <h1>{{route.Lefttime}}</h1><strong>min left</strong>
                </div>
                <div class="col-75">
                    <div class="row">
                        <div class="col-75">
                            <h2 style="font-size:20px;">
                                {{route.Origin.time+" - "+route.Destination.time}}
                            </h2>
                        </div>
                        <div class="col-25 col-center">
                            <i class="icon ion-ios-clock">&nbsp;{{route.dur + " min"}}</i>
                        </div>
                    </div>
                    <div class="row" style="margin-top: 10px;">
                        <div style="font-size:16px;margin-right: 5px;"
                             ng-repeat="leg in route.LegList.Leg">
                            <i ng-if="leg.type == 'METRO'" class="icon ion-android-subway">
                                {{leg.line}}
                            </i>
                            <i ng-if="leg.type == 'BUS'" class="icon ion-android-bus">
                                {{leg.line}}
                            </i>
                            <i ng-if="leg.type == 'WALK' && leg.hide == true" class="icon ion-android-walk">
                                {{leg.dist}}
                            </i>
                            <i ng-if="leg.type == 'TRAIN'" class="icon ion-android-train">
                                {{leg.line}}
                            </i>
                        </div>
                    </div>
                </div>
                <div class="col col-center">
                    <i class="icon ion-chevron-right" style="font-size:24px;"></i>
                </div>

            </a>
        </div>
    </ion-content>
</ion-view>
